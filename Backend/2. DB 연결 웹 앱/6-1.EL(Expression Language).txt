[표현 언어란]

표현 언어(Expression Language)는 값을 표현하는데 사용되는 스크립트 언어로서
JSP의 기본 문법을 보완하는 역할을 한다.

JSP는 백엔드와 프론트엔드가 섞여 있기에 어떻게 하면 JSP를 효율적으로 쓸 수 있을지 화두가 되어 나타남


[표현 언어가 제공하는 기능]

- JSP의 스코프(scope)에 맞는 속성 사용
  : JSP에서 자바 코드로 내장객체를 이용할 수 있지만, 
    표현 언어를 이용하면 어플리케이션/세션/리퀘스트/페이지 스코프의 변수들을 쉽게 출력할 수 있음.
- 집합 객체에 대한 접근 방법 제공
  : 컬렉션 같은 집합 객체나 프레임워크에서 제공하는 객체가
    가지고 있는 값을 쉽게 출력할 수 있음
- 수치 연산, 관계 연산, 논리 연산자 제공
- 자바 클래스 메서드 호출 기능 제공
- 표현 언어만의 기본 객체 제공


[표현 언어의 표현 방법]

각종 태그 안에서 사용이 가능하며, 텍스트를 출력하는 부분에서도 사용이 가능

문법)

${expr}
    expr - 표현언어가 정의한 문법에 따라 값을 표현하는 식

예제)

<jsp:include page="/module/${skin.id}/header.jsp" flush="true" />
<b>${sessionScope.member.id}</b>님 환영합니다.


[표현 언어의 데이터 타입]

- 불리언 타입 : true와 false
- 정수 타입 : 0 ~ 9로 이루어진 정수 값. 음수의 경우 '-'가 붙음
- 실수 타입 : 0 ~ 9로 이루어져 있으며, 소수점 ('.')을 사용할 수 있고,
             3.24e3과 같이 지수형으로 표현 가능.
- 문자열 타입 : 따옴표('또는 ")로 둘러싼 문자열. 
                만약 작은 따옴표(')를 사용해서 표현할 경우 값에 포함된 작은 따옴표는 \'와 같이 \기호와 함께 사용해야 한다. \기호 자체는 \\로 표시한다.
- 널 타입 : null


[객체 접근 규칙]

문법)

${<표현1>.<표현2>}

- 표현1이나 표현2가 null이면 null을 반환한다.
- 표현1이 Map일 경우 표현2를 key로 한 값을 반환.
- 표현1이 List나 배열이면,
  표현2가 정수일 경우 해당 정수번째 index에 해당하는 값을 반환.
- 만약 정수가 아닐 경우에는 오류가 발생.
- 표현1이 객체일 경우는 표현2에 해당하는 getter메서드를 호출한 결과를 반환.


[표현 언어의 수치 연산자]

- + : 덧셈
- - : 뺄셈
- * : 곱셈
- / 또는 div : 나눗셈
- % 또는 mod : 나머지

- 숫자가 아닌 객체와 수치 연산자를 사용할 경우 객체를 숫자값으로 변환 후 연산자를 수행:
  ${"10"+1} -> ${10+1}
- 숫자로 변환할 수 없는 객체와 수치 연산자를 함께 사용하면 에러가 발생:
  ${"열"+1} -> 에러
- 수치 연산자에서 사용되는 객체가 null이면 0으로 처리:
  ${null+1} -> ${0+1}


[비교 연산자]

- == 또는 eq
- != 또는 ne
- < 또는 Lt
- > 또는 gt
- <= 또는 le
- >= 또는 ge
- 문자열 비교 : ${str == '값'} str.compareTo("값") == 0 과 동일


[논리 연산자]

- && 또는 and
- || 또는 or
- ! 또는 not


[empty연산자, 비교선택 연산자]

문법)

empty<값>
1. <값>이 null이면 true를 리턴
2. <값>이 빈 문자열("")이면 true를 리턴
3. <값>이 길이가 0인 배열이면 true를 리턴
4. <값>이 빈 Map이면 true를 리턴
5. <값>이 빈 Collection이면 true를 리턴
6. 이 외의 경우에는 false를 리턴

예제)

<수식>?<값1>:<값2>
<수식>의 결과값이 true이면 <값1>을 리턴하고, false면 <값2>를 리턴


[연산자 우선순위]

1. [] .
2. ()
3. - (단일) not ! empty
4. * / div % mod
5. + -
6. < > <= >= lt gt le ge
7. == != eq ne
8. && and
9. || or
10. ? :


[표현 언어 비활성화 : JSP에 명시하기]

문법)

<%@ page isELIgnored = "true" %>
